import e,{useRef as o,useCallback as t,useEffect as i}from"react";import{BorderBox1 as r}from"@jiaminghi/data-view-react";import*as a from"echarts";var n={name:"mm-border-box1",description:"边框",version:"0.0.1",snapshot:"https://cloud.resonance.fun/?explorer/share/file&hash=bc9f3bI1zPdF2X--QMAjdSWLS3M2SxfdGi-9BWWTBeMjce4lyBd7D9Z5xWY2fBEGsk-d",schema:{type:"object",properties:{color:{title:"自定义颜色",type:"string",format:"color"},backgroundColor:{title:"背景色",type:"string",format:"color"},padding:{title:"边距",type:"number",widget:"slider"},height:{title:"高度",type:"number",widget:"slider"}},required:[]},data:{color:[],backgroundColor:"",padding:30}},l=a.graphic.extendShape({shape:{x:0,y:0},buildPath:function(e,o){var t,i=o.xAxisPoint,r=[o.x,o.y],a=[o.x-20,o.y-10],n=[i[0]-20,i[1]-10],l=[i[0],i[1]];null===(t=e.moveTo(r[0],r[1]))||void 0===t||t.lineTo(a[0],a[1]).lineTo(n[0],n[1]).lineTo(l[0],l[1]).closePath()}}),s=a.graphic.extendShape({shape:{x:0,y:0},buildPath:function(e,o){var t,i=o.xAxisPoint,r=[o.x,o.y],a=[i[0],i[1]],n=[i[0]+20,i[1]-10],l=[o.x+20,o.y-10];null===(t=e.moveTo(r[0],r[1]))||void 0===t||t.lineTo(a[0],a[1]).lineTo(n[0],n[1]).lineTo(l[0],l[1]).closePath()}}),c=a.graphic.extendShape({shape:{x:0,y:0},buildPath:function(e,o){var t,i=[o.x,o.y],r=[o.x+20,o.y-10],a=[o.x,o.y-20],n=[o.x-20,o.y-10];null===(t=e.moveTo(i[0],i[1]))||void 0===t||t.lineTo(r[0],r[1]).lineTo(a[0],a[1]).lineTo(n[0],n[1]).closePath()}});a.graphic.registerShape("CubeLeft",l),a.graphic.registerShape("CubeRight",s),a.graphic.registerShape("CubeTop",c);var u=[100,200,300,400,300,200,100],p={backgroundColor:"#012366",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e,o,t){var i=e[1];return i.name+" : "+i.value}},grid:{left:"10%",right:"10%",top:"15%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:["1001","1002","1003","1004","1005","1006","1007"],axisLine:{show:!0,lineStyle:{width:2,color:"#2B7BD6"}},axisTick:{show:!1},axisLabel:{fontSize:14}},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{width:2,color:"#2B7BD6"}},splitLine:{show:!0,lineStyle:{color:"#153D7D"}},axisTick:{show:!1},axisLabel:{fontSize:14}},series:[{type:"custom",renderItem:function(e,o){var t=o.coord([o.value(0),o.value(1)]);return{type:"group",children:[{type:"CubeLeft",shape:{api:o,xValue:o.value(0),yValue:o.value(1),x:t[0],y:t[1],xAxisPoint:o.coord([o.value(0),0])},style:{fill:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#33BCEB"},{offset:1,color:"#337CEB"}])}},{type:"CubeRight",shape:{api:o,xValue:o.value(0),yValue:o.value(1),x:t[0],y:t[1],xAxisPoint:o.coord([o.value(0),0])},style:{fill:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#28A2CE"},{offset:1,color:"#1A57B7"}])}},{type:"CubeTop",shape:{api:o,xValue:o.value(0),yValue:o.value(1),x:t[0],y:t[1],xAxisPoint:o.coord([o.value(0),0])},style:{fill:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#43C4F1"},{offset:1,color:"#28A2CE"}])}}]}},data:u},{type:"bar",label:{normal:{show:!0,position:"top",formatter:function(e){return e.value+"次"},fontSize:16,color:"#43C4F1",offset:[0,-25]}},itemStyle:{color:"transparent"},tooltip:{},data:u}]};function d(n){var l=n.color,s=n.backgroundColor,c=n.option,u=void 0===c?p:c,d=n.padding,h=void 0===d?30:d,f=n.height,x=void 0===f?400:f,y=o(null),v=o(null),g=t((function(){var e;null===(e=v.current)||void 0===e||e.resize()}),[]);return i((function(){if(y.current){var e=a.init(y.current);v.current=e,e.setOption(u);var o=new ResizeObserver(g);return o.observe(y.current),function(){o.disconnect()}}}),[]),e.createElement(r,{color:l,backgroundColor:s},e.createElement("div",{ref:y,style:{padding:h,height:x}}))}export{d as Component,n as config};
